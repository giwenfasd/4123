function Typewriter(e){this._characterCallback=null,this._completionCallback=null,"undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e[0]),this._textNode=null;for(var t=0;t<e.childNodes.length;t++)if(3==e.childNodes[t].nodeType){_textNode=e.childNodes[t];break}this._textNode||(this._textNode=document.createTextNode(""),e.appendChild(this._textNode)),this._caretElement=document.createElement("span"),this._caretTextNode=document.createTextNode(""),this._caretElement.appendChild(this._caretTextNode),e.appendChild(this._caretElement),this.setCaret("|"),this.setCaretPeriod(1e3),this.setDelay(250,100)}Typewriter.prototype.playSequence=function(e){this._playSequenceAtIndex(e,0)},Typewriter.prototype.setCaret=function(e){this._caretTextNode.nodeValue=e},Typewriter.prototype.setCaretPeriod=function(e){var t=this;this._caretInterval&&clearInterval(this._caretInterval),e?this._caretInterval=setInterval((function(){"none"==t._caretElement.style.display?t._caretElement.style.display="":t._caretElement.style.display="none"}),e):t._caretElement.style.display=""},Typewriter.prototype.setCharacterCallback=function(e){this._characterCallback=e},Typewriter.prototype.setCompletionCallback=function(e){this._completionCallback=e},Typewriter.prototype.setDelay=function(e,t){this._delayMean=e,this._delayVariance=t},Typewriter.prototype.typeText=function(e,t){void 0===t&&(t=!1),t||0==this._delayMean?(this._textNode.nodeValue+=e,this._completionCallback&&this._completionCallback()):this._typeTextAtIndex(e,0)},Typewriter.prototype._playSequenceAtIndex=function(e,t){var a=this;if(t!=e.length){var i=e[t],l=i.delayAfter||0;this.setCompletionCallback((function(){i.callback&&i.callback(),$(".terminal").scrollTop($(".terminal")[0].scrollHeight),setTimeout((function(){a._playSequenceAtIndex(e,t+1)}),l)})),this.typeText(i.text,i.instant)}},Typewriter.prototype._sampleDelay=function(){var e=this._delayMean-this._delayVariance,t=2*this._delayVariance;return Math.floor(Math.random()*t+e)},Typewriter.prototype._typeTextAtIndex=function(e,t){var a=this;if(t!=e.length){var i=e.charAt(t);if("\b"===i){var l=this._textNode.nodeValue.length-1;this._textNode.nodeValue=this._textNode.nodeValue.substring(0,l)}else this._textNode.nodeValue+=e[t];this._characterCallback&&this._characterCallback(i),setTimeout((function(){a._typeTextAtIndex(e,t+1)}),this._sampleDelay())}else this._completionCallback&&this._completionCallback()};